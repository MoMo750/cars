
const data = {
    car_0:[
        {
            "id":1,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mini-coper/mini-coper-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"just now",
            "carekind":"mini coper",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":2,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mercedes-2/mercedes-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"giza",
            "date":"2 day ago",
            "carekind":"mercedes",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":3,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/audi/audi-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"banha",
            "date":"2 day ago",
            "carekind":"audi",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":4,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mercedes/mercedes-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"harm",
            "date":"2 day ago",
            "carekind":"mercedes",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        }
    ],
    car_1:[
        {
            "id":5,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/skoda/skoda-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"banha",
            "date":"2 day ago",
            "carekind":"skoda",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":6,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/volex/volex-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"volex",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":7,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/toyota/toyota-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"toyota",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":8,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/benetly/Bentley-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"doki",
            "date":"2 day ago",
            "carekind":"benetly",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        }
    ],
    car_2:[
        {
            "id":9,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/citron/citron-1.png",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"nasr city",
            "date":"2 day ago",
            "carekind":"citron",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":11,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/chevrolet/chevrolet-1.png",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"chevrolet",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":12,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/Range-Rover/RangeRover-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"audi",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":13,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/MG/MG-4.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"mercedes",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        }
    ],
    car_3:[
        {
            "id":14,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mini-coper/mini-coper-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"mini coper",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":15,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/volex/volex-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"volex",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":16,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mercedes-2/mercedes-2.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"audi",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":17,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/bmw/bmw-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"mercedes",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        }
    ],
    car_4:[
        {
            "id":18,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mini-coper/mini-coper-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"mini coper",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":19,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/volex/volex-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"volex",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":20,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/bmw-2/bmw-1.png",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"audi",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":21,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mercedes-3/marcedes-1.png",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"mercedes",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        }
    ],
    car_5:[
        {
            "id":22,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mini-coper/mini-coper-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"mini coper",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":23,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/volex/volex-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"volex",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":24,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/audi/audi-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"audi",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":25,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mercedes/mercedes-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"mercedes",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        }
    ],
    car_6:[
        {
            "id":26,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mini-coper/mini-coper-1.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"mini coper",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":27,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/chevrolet/chevrolet-1.png",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"chevrolet",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":28,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/bmw-2/bmw-1.png",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"audi",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        },
        {
            "id":29,
            "singlecarlink":"./content/views/cars-page.html?i=",
            "imgsrc":"./content/assets/mercedes-2/mercedes-2.jpeg",
            "addbtn":"add to wislist",
            "Compare":"Compare",
            "premium":"premium",
            "adress":"helioples cairo",
            "date":"2 day ago",
            "carekind":"audi",
            "price":"2,500,000",
            "ftes":"automatic",
            "horsepower":"2000 CC"
        }
    ]
}


const taps = document.querySelectorAll(".taps p");
const hidenLinks = document.querySelectorAll(".hiden-ul .hiden-links");
taps.forEach((tap) =>{
    tap.addEventListener("click", function(){
        taps.forEach((el) =>{
            el.classList.remove("active")
        })
        this.classList.add("active");
        hidenLinks.forEach(ele =>{
            ele.style.display = "none"
        })
        
        document.querySelectorAll(this.dataset.links).forEach(element =>{
            element.style.display = "flex"
        })
    })
})

const input_filter = document.querySelector(".input-filter");
const hiden_filter = document.querySelector(".hiden-filter");
const inputFilt = document.querySelector(".input-filt span");

if(input_filter){
    input_filter.addEventListener("click", function(e){
        e.currentTarget.classList.toggle("active")
        hiden_filter.classList.toggle("active")
    })
}
if(hiden_filter){
    window.addEventListener("scroll", () =>{
        input_filter.classList.remove("active")
        hiden_filter.classList.remove("active")
    })
}


const nav_menu = document.querySelector(".contact-nav .menu");
const secNav_sm = document.querySelector(".sec-nav_sm");
const closeMenu = document.querySelector(".close-menu");
const search_Icon = document.querySelector("#search-icon");
const search_page = document.querySelector(".search-page");
const cancelSearch_page = document.querySelector(".cancel-search-page");
const listLinks = document.querySelector(".main-links-sm .list-links");
const listLinks_i = document.querySelector("#direct");
const hidenLinks_sm = document.querySelector(".hiden-links-sm");

listLinks.addEventListener("click", function(e) {
    e.currentTarget.classList.toggle("active");
    hidenLinks_sm.classList.toggle("active");
    listLinks_i.classList.toggle("active");
})

nav_menu.addEventListener("click", () =>{
    secNav_sm.classList.add("active");
    disableScroll()
});
closeMenu.addEventListener("click", () =>{
    secNav_sm.classList.remove("active");
    enableScroll()
});
search_Icon.addEventListener("click", () =>{
    search_page.classList.add("active");
    disableScroll()
});
cancelSearch_page.addEventListener("click", () =>{
    search_page.classList.remove("active");
    enableScroll()
});

const mainlinks_left= document.querySelectorAll(".main-links-left-menu");
const hiden_ul = document.querySelector(".hiden-ul");

mainlinks_left.forEach(el =>{
    el.addEventListener("click", function(e){
        e.currentTarget.nextElementSibling.classList.toggle("active");
    })
})

// filter input

function filterList(){
    const linksInput = document.querySelector(".links-input input");
    const filter = linksInput.value.toLowerCase();
    const hidenLinks = document.querySelectorAll(".hiden-ul .hiden-links");

    hidenLinks.forEach((item) =>{
        let text = item.textContent;
        if(text.toLowerCase().includes(filter.toLowerCase())){
            item.style.display = "./content/views/cars-page.html";
        }else{
            item.style.display = "none";
        }
    })
}


// start pagenation main page
const pagenation = document.querySelectorAll(".pagenation .page-number");
const new__Postes = document.querySelectorAll(".new-postes");
const prevPage = document.querySelector(".pagenation .left-pagenation");
const nextPage = document.querySelector(".pagenation .right-pagenation");
const ancors = document.querySelectorAll('.pair_boxs .box');
var index = 0;

// loop in data and put it on html code

    const fetchData = () => {
        new__Postes[0].innerHTML = ''
        const da = 'car_'+index;
        data[da].forEach((ele) => {
            new__Postes[0].innerHTML += `
                <a href=${ele.singlecarlink + ele.id} class="box">
                            <div class="imge">
                                <img src=${ele.imgsrc} alt="skoda">
                                <div class="car-imge-overlay-box">
                                    <div></div>
                                    <div class="box_">
                                        <div class="overlay-wislist">
                                            <span>${ele.addbtn}</span>
                                            <i class="far fa-heart ng-star-inserted"></i>
                                        </div>
                                        <div class="overlay-Compare">
                                            <span>${ele.Compare}</span>
                                            <i class="fa-solid fa-car-tunnel"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="premium">
                                    <i class="fa-solid fa-star"></i>
                                    <span>${ele.premium} ad</span>
                                </div>
                            </div>
                            <div class="tittle">
                                <div class="location">
                                    <div class="loc">
                                        <i class="fa-solid fa-location-dot"></i>
                                        <span>${ele.adress}</span>
                                    </div>
                                    <div class="time">
                                        <i class="fa-solid fa-rotate-right"></i>
                                        <span>${ele.date}</span>
                                    </div>
                                </div>
                                <div class="info">
                                    <h3>${ele.carekind}</h3>
                                    <p>new</p>
                                </div>
                                <div class="payment">
                                    <span>down payment <p>${ele.price}</p> EGY</span>
                                </div>
                                <div class="caption">
                                    <div class="automatic">
                                        <i class="fa-solid fa-wand-magic-sparkles"></i>
                                        <span>${ele.ftes}</span>
                                    </div>
                                    <div class="cc">
                                        <i class="fa-brands fa-docker"></i>
                                        <span>${ele.horsepower}</span>
                                    </div>
                                </div>
                            </div>
                        </a>
        `
        })      
        }

 fetchData()
    // run the function


const nextPagenation = function(){
    if (index == pagenation.length - 1) {
        return
    }
    
    index++
    pagenation.forEach(elements =>{
        elements.classList.remove("active");
    })
    pagenation[index].classList.add('active')
    fetchData()
}
const prevPagenation = function(){
    if (index == 0) {
        return
    }
    index--
    // console.log(this.parentElement);
    pagenation.forEach(elements =>{
        elements.classList.remove("active");
    })
    pagenation[index].classList.add('active')
    fetchData()
}


nextPage.addEventListener("click", nextPagenation);
prevPage.addEventListener("click", prevPagenation);

pagenation.forEach(pagen =>{
    pagen.addEventListener("click", function(){
        pagenation.forEach(element =>{
            element.classList.remove("active");
        })
        this.classList.add("active")
        index = +this.innerHTML - 1;
        fetchData()
        nextPagenation
    })
})


// slider 
const rightbtn = document.querySelector(".slider .right")
const leftbtn = document.querySelector(".slider .left")
const carousel = document.querySelector(".box-slider")
let sliderimge2 = document.querySelectorAll(".box-slider .imge").length

function Right(){
    const sliderimge = carousel.querySelector(".box-slider .imge").offsetWidth+15;
    carousel.scrollLeft += rightbtn.id === "left" ? -sliderimge : sliderimge;
}
function Left(){
    const sliderimge = carousel.querySelector(".box-slider .imge").offsetWidth+15;
    carousel.scrollLeft -= rightbtn.id === "right" ? -sliderimge : sliderimge;
}
// feedback 
const feedBox = document.querySelectorAll(".feed-box");
const feed_hidenBox = document.querySelectorAll(".hiden-box");
const feed_input = document.querySelectorAll(".hiden-box input");
const buttons = document.querySelectorAll(".buttons .btn");
const submitBtn = document.querySelectorAll(".submit");
const closeFeedback = document.querySelector(".close-feedback");
const feedbackBtn = document.querySelector(".feedback");
const feedbackContainer = document.querySelector(".feedback-container");

feed_input.forEach(el =>{
    el.addEventListener("input", () =>{
        if(feed_input.value !== ""){
            el.parentElement.lastElementChild.children[0].classList.add("active");
        }else{
            el.parentElement.lastElementChild.children[0].classList.remove("active");
        }

        // console.log(el.parentElement.lastElementChild.children[0]);
    })

})

feedBox.forEach(box =>{
    box.addEventListener("click", function(){
        feedBox.forEach(el =>{
            el.style.display = "none"
        })
        feed_hidenBox.forEach(element => {
            element.style.display = "none";
        });
        document.querySelectorAll(this.dataset.opinion).forEach(element =>{
            element.style.display = "block"
        })
    })
})

buttons.forEach(btn =>{
    btn.addEventListener("click", function(e){
        e.preventDefault();
        feed_input.forEach(input =>{
            input.value = "./content/views/cars-page.html?i=";
        })
        feed_hidenBox.forEach(element => {
            element.style.display = "none";
        });
        feedBox.forEach(el =>{
            el.style.display = "block"
        })
    })
})
feedbackBtn.addEventListener("click", ()=>{
    feedbackContainer.classList.add("active");
    disableScroll()
})

closeFeedback.addEventListener("click", () =>{
    feedbackContainer.classList.remove("active");
    enableScroll()
})
window.onclick = function(e){
    if(e.target == feedbackContainer){
        feedbackContainer.classList.remove("active");
        enableScroll()
    }
}
// DisableScroll
function disableScroll() {
    // Get the current page scroll position
    scrollTop =
    window.pageYOffset || document.documentElement.scrollTop;
    scrollLeft =
    window.pageXOffset || document.documentElement.scrollLeft,
  
        // if any scroll is attempted,
        // set this to the previous value
        window.onscroll = function() {
            window.scrollTo(scrollLeft, scrollTop);
        };
}

// EnableScroll
function enableScroll() {
    window.onscroll = function() {};
}

// footer
const span = document.querySelector('.footer_span');
const spanDate = new Date();
const year = spanDate.getFullYear();

span.innerHTML = year;


